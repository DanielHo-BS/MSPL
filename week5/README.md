# **ç•¸è®Šå½±åƒæ ¡æ­£èˆ‡æ¨£æ¿æ¯”å°åŠ é€ŸæŠ€è¡“**

# Motivation

ç•¸è®Šå½±åƒæ ¡æ­£çš„ç›®çš„ï¼š

åœ¨æ–¼å°‡å› é€é¡ç”¢ç”Ÿç•¸è®Šçš„æˆåƒå›å¾©åˆ°ç†æƒ³ä¸­éç•¸è®Šä¹‹å½±åƒ
å½±åƒçš„å“è³ªå¥½å£å°‡æœƒå½±éŸ¿å¾ŒçºŒå½±åƒè™•ç†ç›¸é—œæ‡‰ç”¨

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F6585a272-09f0-496c-b4d5-ed7cc5a54e08%2F51E5690B-FBA6-4090-870F-31E2AF1CA5D1.jpeg?table=block&id=1004ddcf-2ff0-4f4e-97d7-a0d86b2f93ac&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

# Methods

ç¾ä»Šï¼š

è—‰ç”±å¯¦éš›ç‰©é«”çš„è³‡è¨Šï¼ˆå¦‚æ£‹ç›¤æ ¼ä¹‹é–“çš„è·é›¢èˆ‡æˆåƒä¹‹é–“çš„é—œä¿‚ï¼‰
è¨ˆç®—å‡ºç›¸æ©Ÿåƒæ•¸

ç›®æ¨™ï¼š

åªè¼¸å…¥å–®ä¸€ç•¸è®Šå½±åƒï¼Œåˆ©ç”¨è¼ªå»“æ ¡æ­£å‰ã€å¾Œç”¢ç”Ÿçš„å½æ›²è®ŠåŒ–ï¼Œé€²è¡Œè¿­ä»£è¨ˆç®—ï¼Œæ±‚å‡ºç•¸è®Šåƒæ•¸èˆ‡ç›¸æ©Ÿåƒæ•¸ã€‚

HALCONï¼š

å·²æä¾›ç•¸è®Šå½±åƒæ ¡æ­£æŠ€è¡“ç›¸é—œçš„å‡½æ•¸
æœ¬è¨ˆåŠƒå°‡ä»¥ï¼£èªè¨€å¯¦ç¾ä¸¦åŠ é€Ÿè¨ˆç®—éç¨‹

### æ¼”ç®—æ³•æµç¨‹

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F666d3db6-242b-4a1a-be5b-2501166d91a0%2F021EEDC2-6B20-403A-ABB5-E3B0F7990948.jpeg?table=block&id=0464d790-aeec-4b10-8861-868507756141&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

ç•¸è®Šæ¨¡å‹ï¼š Radial Distortion ä»¥åŠ Tangential Distortion

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F99ffc3de-b94a-4dd8-9f0e-3e53b0af721d%2F05EB3E18-5D6F-4018-9B67-2D165E07D472.jpeg?table=block&id=6a3ad0c2-f727-4e88-841d-7198e50957bb&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

ğ¿(ğ‘Ÿ)ç‚ºç•¸è®Šæ¨¡å‹ï¼špolynomial ä»¥åŠ division

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F05cb286e-4416-42b6-a591-3886a334d924%2FD6AA25A6-E17B-40FD-A5E6-0383EF9D1FE2.jpeg?table=block&id=8ad6bd64-02cd-4492-9699-dabf8d7d364d&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fce1ac976-7113-4a73-b08b-dc151d2cebff%2F4BD0FA3D-9F0F-40C5-B06C-D3FE1D81116D.jpeg?table=block&id=483298ec-fa50-4871-ac90-3056748ee453&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

## 2.1 Edge detection

### Cannyâ‡’è¼ªå»“é»

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Faee74f71-bae4-49b8-9830-fb2e5006d34c%2F6D7EFC46-9638-4545-AF52-6D9A4F073B46.jpeg?table=block&id=74058ba5-807b-461e-b3b5-cbe85d33522c&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

high thresholdï¼šå‰20%

low thresholdï¼šå¾Œ30%

### Cleanâ‡’åˆªé™¤è¼ƒä¸é‡è¦çš„é»

5*5 çš„ window å…§çš†å±¬æ–¼ neighborhood pointsï¼Œä¸¦å°‡æ¯å€‹ neighborhood points èˆ‡è‡ªå·±çš„ orientation ä½œå…§ç©ï¼Œæ‰€æœ‰å…§ç©å€¼ç´¯åŠ å­˜ç‚ºæ­¤é»çš„scalar_productã€‚

æ¢ä»¶ï¼ˆäºŒå…¶ä¸€ â‡’ åˆªé™¤æ­¤é»ï¼‰ï¼š

1. neighborhood points å€‹æ•¸å°æ–¼ 2
2. scalar_product å°æ–¼æ­¤é»çš„ neighborhood points å€‹æ•¸ä¹˜ä»¥ 0.95

ä¸Šè¿°é‡è¤‡4æ¬¡

1. 5*5 çš„ windowâ‡’max() 
    
    window æ­¥ä¼ç‚º window å¤§å°ï¼Œå› æ­¤ä¸æœƒæœ‰é‡ç–Šçš„å•é¡Œã€‚
    

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F882cd53d-4d44-4bef-a13f-0e12e7926739%2F5DE382F4-6485-4ADC-B3A0-B478C8613E05.jpeg?table=block&id=08fec0db-a11f-4e6b-95e4-712486fbc18b&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

## 2.2 Detection of lines with the improved Hough transform

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc78bc42b-2d1f-4323-a541-3784b2c098e0%2F246CC063-1E94-456F-8D70-FB0394B26C34.jpeg?table=block&id=ea1ccfdd-d60b-4188-91e3-c5436bab275d&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

å‚³çµ±ï¼š

Hough transformç„¡æ³•åˆ¤æ–·å½æ›²çš„è¼ªå»“ï¼Œå°è‡´å¤±çœŸã€‚

Improvedï¼š

å°‡ç•¸è®Šä½œç‚ºå‚³çµ±äºŒç¶­éœå¤«è®Šæ›çš„ç¬¬ä¸‰å€‹ç¶­åº¦â‡’åˆ°åŸé»çš„è·é›¢ã€æ–¹å‘èˆ‡ç•¸è®Š
é€éè¿­ä»£è¨ˆç®—ç•¸è®Šåƒæ•¸â‡’æ±‚å‡ºk1â‡’å†æ±‚å‡ºk2  
è¨ˆç®—éç¨‹ä¸­k1ã€k2å°‡ä»¥p1ã€p2ï¼ˆæ ¡æ­£ç™¾åˆ†æ¯”ï¼‰é€²è¡Œè®Šæ•¸è½‰åŒ–

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F7485625b-a9b8-44bd-af00-b8583ccf9194%2FA548479F-C10C-4B9D-B99F-F8F8729E42C4.jpeg?table=block&id=b855ae61-4113-495e-a03e-545250396ccf&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe41f44ca-e562-4d29-a42f-1d0c70f293bb%2FC24B4B4E-2238-46CA-9F46-153044DB5B16.jpeg?table=block&id=f6ed4dc1-3e6c-49cf-8b1f-b46090b05289&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

### Hough transform

éœå¤«è½‰æ›æ˜¯å½±åƒè™•ç†ä¸­çš„ä¸€ç¨®ç‰¹å¾µæå–æŠ€è¡“ï¼Œé€éæª¢æ¸¬ç´¯ç©çµæœçš„å€åŸŸæ€§æ¥µå€¼é»ï¼Œé€²è¡ŒæŠ•ç¥¨å–å¾—ä¸€å€‹ç¬¦åˆç‰¹å®šå½¢ç‹€çš„é»çš„é›†åˆã€‚

ä¸€å€‹é»å¯ä»¥ç‚ºç„¡é™å¤šæ¢ç·šçš„ç„¦é»ï¼Œè½‰æ›åˆ°rho,thetaåº§æ¨™å¾Œï¼Œæœƒè®Šæˆä¸€æ¢ç·šã€‚å°‡å¤šå€‹é»çš„rho,thetaä¸Šçš„ç·šæç¹ªå‡ºä¾†ï¼Œå…¶ç„¦é»ç‚ºé»èˆ‡é»ä¹‹é–“çš„ç›´ç·šã€‚

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fa332302d-e455-4a66-b37d-7edf52df0028%2F7FB49C26-FF71-49C0-9920-E6F975D91CA1.jpeg?table=block&id=e4d28165-2200-4dc3-9b34-9f63bd853547&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

é¿å…å‡ºç¾æ–œç‡ç„¡çª®å¤§çš„æƒ…æ³ï¼Œæ¡ç”¨æ¥µåº§æ¨™ä»£æ›¿é»æ–œå¼

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc3bee371-9f47-4c3a-b564-5fb51606059e%2F496A42F1-DB6C-40F1-ACEB-6D1D5373676C.jpeg?table=block&id=e4225911-72ad-475a-928d-eec1a41ae18f&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

é‡å°nå€‹ä¸åŒçš„k1ï¼Œé€²è¡Œnæ¬¡çš„è¼ªå»“æ ¡æ­£ï¼Œå¾Œä¸¦é€²è¡Œéœå¤«è½‰æ›çš„æŠ•ç¥¨ï¼Œå–å¾—æ•¸å€‹ğ‘‘ã€ğœƒçš„æŠ•ç¥¨çµæœã€‚

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F035963ff-3350-4c07-873e-eb8c35f58c3c%2F93983796-8AC1-4E19-9B32-C805481DCE81.jpeg?table=block&id=02d80c20-6d97-411c-8c65-13539b4b39b2&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

### Maximum selection

æ ¹æ“šç•¶ä¸‹çš„k1çš„æ•¸å€‹ğ‘‘ã€ğœƒæŠ•ç¥¨çµæœï¼Œé¸å‡ºç¥¨æ•¸æœ€å¤šçš„å‰ï¼®æ¢çš„ç·š
ï¼ˆï¼®ï¼100ï¼‰ï¼Œä¸¦å°‡ï¼®æ¢ç·šçš„ç¥¨æ•¸åŠ ç¸½ä½œç‚ºæ­¤k1çš„vote scoreã€‚

æ ¹æ“šæœ€é«˜çš„vote scoreï¼Œé¸å‡ºæœ€ä½³çš„k1ã€‚

### Capturing points

è‹¥æœ‰è¼ªå»“é»æ²’æœ‰è¢«æ­¸åˆ°ä»»ä½•ä¸€æ¢ç·šä¸­ï¼Œå³æ¨æ£„æ­¤è¼ªå»“é»

æ­¸é¡é ˆç¬¦åˆæ¢ä»¶ï¼š

1. å…§ç©å€¼è¦å¤§æ–¼é–¥å€¼
2. é»åˆ°ç·šçš„è·é›¢è¦å°æ–¼é–¥å€¼

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fcd769e74-8b32-4e16-a02f-af8b00172de2%2F3913248E-C1E3-4CEC-B21A-4C86FF18B418.jpeg?table=block&id=39697ef8-7def-499e-bff9-937137c8eb3e&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

### Ensure consistent line orientation

é€éç·šä¸Šçš„æ¯å€‹é»èˆ‡æ­¤ç·šçš„æ–¹å‘é€²è¡Œå…§ç©ï¼Œå°‡å°‘æ•¸æ–¹å‘çš„é»ç§»é™¤ã€‚

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F811307bc-b295-4cc3-b2dd-005a0532a6f8%2FF3B6090E-6BAE-4EAF-9950-B6617BAC30F4.jpeg?table=block&id=c057b382-204c-4723-a293-a7af1b74c4bb&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

### Recompute line equations

å°‡å‰©ä¸‹çš„é»ï¼Œé‡æ–°è¨ˆç®—å‡ºç›´ç·šæ–¹ç¨‹å¼ï¼Œé€é
æœ€å°å¹³æ–¹æ³•-å‚ç›´åç§»(Least Squares Fitting--Perpendicular Offsets)
æ±‚å‡ºç›´ç·šæ–¹ç¨‹å¼ğ‘¦ = ğ‘ + ğ‘ğ‘¥çš„ä¿‚æ•¸ğ‘èˆ‡ğ‘

1. å°‡é»åˆ°ç·šçš„è·é›¢å¹³æ–¹å’Œåˆ†åˆ¥å°aã€bé€²è¡Œåå¾®åˆ†
2. é€éminimum = 0 çš„ç­‰å¼â‡’æ±‚å‡ºbâ‡’å†æ±‚å‡ºa

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F1c5a8ea8-225e-4c6e-a56f-5f91490e60d5%2FFB966B09-82B3-4212-A46C-738C4F29FF1D.jpeg?table=block&id=a8a391cd-7e8f-45c4-abb8-b86bf9a604a2&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

### Remove and join

N æ¢ç·šä¸­æ˜¯å¦æœ‰éœ€è¦åˆªé™¤çš„ç·šæˆ–æ˜¯å°‡å…©æ¢ç·šåˆä½µæˆä¸€æ¢ç·šï¼Œé€²è¡Œ N æ¢ç›´ç·šçš„æ•´ä½µã€‚
åˆä½µå¾Œå†æ¬¡é€²è¡ŒRecompute line equationsã€‚

## 2.3 Iterative optimization

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F792e5aff-720d-4d83-a93c-b2961cb28e70%2F0ED44B11-07F9-49A5-8D28-7C9849C9C780.jpeg?table=block&id=4e3b51e7-de56-4a84-9691-4e8cfcbf7c3c&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

å‡è¨­é»åˆ°ç·šè·é›¢å¹³æ–¹ç¸½å’Œç‚º Energyï¼Œd ä»£è¡¨æŸä¸€çµ„(ğ‘˜1, ğ‘˜2, ğ‘¥ğ‘, ğ‘¦ğ‘)â‡’(p1, p2, ğ‘¥ğ‘, ğ‘¦ğ‘)

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fea1cac14-0490-4f22-8f21-db9cfa57d3bd%2FA5B90F8A-4859-4C6C-9629-92B73788E672.jpeg?table=block&id=fd354f29-25c0-4a8b-a7c5-02a75f041df6&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

ğ‘˜1åˆå§‹å€¼ç‚ºç¬¬äºŒéƒ¨åˆ†ä¼°ç®—å‡ºçš„æ•¸å€¼ï¼Œğ‘˜2åˆå§‹å€¼ç‚º 0
ç‚ºä½¿ğ¸æœ€å°åŒ–ï¼Œé‡å°dçš„å››å€‹åƒæ•¸é€²è¡Œå°æ•¸è¨ˆç®—ï¼š

âˆ‡ğ¸(ğ‘‘0)çš„ä¸€éšå°æ•¸å’ŒäºŒéšå°æ•¸åˆ†åˆ¥ç‚º 

- gradient
    
![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F3c0fd13a-7ce0-48ef-a017-008da2dcd2bb%2FUntitled.png?table=block&id=d913b0a5-ba66-4280-abab-0ff01e3ad82e&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)
    
- hessian çŸ©é™£
    
![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F08f66c74-6a58-4ddb-a8e2-3b7515ad4cd6%2FUntitled.png?table=block&id=9ab12286-d646-46a2-b587-d77c4d8ba7b4&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)
    

â„1ã€â„2åˆ†åˆ¥ç‚ºè¿­ä»£ç•¸è®Šåƒæ•¸åŠç•¸è®Šä¸­å¿ƒé»æ™‚å¢åŠ çš„æ­¥ä¼
é è¨­ç‚ºâ„1 = 10^âˆ’4ã€â„2 = 10^âˆ’2ã€‚

1. æ¯æ¬¡è¿´åœˆéƒ½æœƒæ›´æ–°ğ‘‘ğ‘›ğ‘’ğ‘¥ğ‘¡ = ğ‘‘ + ğ‘”ğ‘Ÿğ‘ğ‘‘ğ¸
2. æ›´æ–°å¾Œçš„(ğ‘1ã€ğ‘2)å¯ä»¥ç¶“ç”±è½‰æ›å…¬å¼å¾—åˆ°æ›´æ–°å¾Œçš„(ğ‘˜1ã€ğ‘˜2)
3. ç”±æ–°çš„ç•¸è®Šåƒæ•¸ä»¥åŠç•¸è®Šä¸­å¿ƒé» æ ¡æ­£è¼ªå»“
4. è¨ˆç®—æ­¤k1çš„vote score

è¿­ä»£æ¢ä»¶ï¼š

1. vote scoreæœ‰å¤§æ–¼ä¸Šä¸€å€‹è¿´åœˆç®—å‡ºçš„ 1.01%ï¼Œå‰‡ç¹¼çºŒé€²è¡Œè¿­ä»£
2. å°æ–¼ç®—ä¸€æ¬¡å¤±æ•—ï¼Œç´¯ç©ä¸‰æ¬¡ä»¥ä¸Šå°‡æœƒåœæ­¢è¿­ä»£

æ±‚å‡ºæ“æœ‰æœ€é«˜vote scoreçš„åƒæ•¸(ğ‘˜1, ğ‘˜2, ğ‘¥ğ‘, ğ‘¦ğ‘)ã€‚

## 2.4 Correction of image distortion

æ ¹æ“šåƒæ•¸(ğ‘˜1, ğ‘˜2, ğ‘¥ğ‘, ğ‘¦ğ‘)å–å¾—æ ¡æ­£å½±åƒ

1. é€éç‰›é “æ³•æ‰¾å‡ºinverse function
2. ä½¿ç”¨é›™ç·šæ€§å…§æ’æ³•é‚„åŸå½±åƒ

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F77f12fa8-5f64-4736-9f81-91921622b878%2F82759B64-7BE0-4BCD-82D7-35079C7956E3.jpeg?table=block&id=cfefc6d6-8a97-4458-83be-453970aedc31&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

### æ ¡æ­£åº§æ¨™

åœ¨å›æŸ¥åº§æ¨™é»æ™‚ï¼Œåº§æ¨™æœƒä¹˜ä¸Šä¸€å€‹ scale åƒæ•¸ï¼Œå°‡åœ–åƒé ‚é»å®šä½ã€‚

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F8a6c56c9-e777-4154-8df1-a9b556482c67%2FUntitled.png?table=block&id=393bfb78-e5a1-4c95-9055-a5a1d1105dca&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F943fc0c8-23f1-4f05-8572-124582cb6949%2FUntitled.png?table=block&id=a0c6fbc6-073e-4760-8b22-3aeede31320c&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

### æœ€å¤§æœ‰æ•ˆå€åˆ‡å‰²

1. æ ¡æ­£å‰æœƒå…ˆå»ºæ§‹ä¸€å€‹åŸåœ–åŒç­‰å¤§å°çš„å½±åƒä½œç‚ºåº•åœ–
2. ç¶“éæ ¡æ­£å¾Œï¼Œè‹¥ scale å€¼å¤§æ–¼ 1ï¼Œæœƒç”¢ç”Ÿç„¡æ³•å›æŸ¥çš„ä½ç½®â‡’å¡«å…¥0â‡’ç”¢ç”Ÿç„¡æ•ˆå€

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F552eaa8a-c58d-4026-bbff-e6f416db87ea%2FUntitled.png?table=block&id=1e335ac2-6cd7-4a22-bdf4-b296b0ba3b92&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

é€éæ‰¾å‡ºå››é‚Šçš„æœ€å¤§çš„ 8 é€£é€šå…ƒä»¶ï¼Œåˆ‡å‰²å‡ºæœ€å¤§çš„æœ‰æ•ˆå€ã€‚

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F8dacbbb0-9785-404c-a94d-861639e97797%2FUntitled.png?table=block&id=f8673512-bd44-46c3-bd96-50493311c31c&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

## 2.5 SSE

SSEï¼ˆStreaming SIMD Extensionsï¼‰æ˜¯ä¸€ç¨® SIMD æŒ‡ä»¤é›†ï¼Œä¹Ÿå°±æ˜¯ä¸€å€‹æŒ‡ä»¤å¯ä»¥åŒæ™‚å°å¤šå€‹è³‡æ–™é€²è¡Œç›¸åŒçš„å‹•ä½œã€‚
SSE æ–°å¢äº†å…«å€‹æ–°çš„ 128 ä½å…ƒæš«å­˜å™¨ï¼ˆxmm0 ~ xmm7ï¼‰ï¼Œå¯ä»¥ç”¨ä¾†å­˜æ”¾å››å€‹ 32 ä½å…ƒçš„å–®ç²¾ç¢ºåº¦æµ®é»æ•¸ã€‚

SSE çš„æµ®é»æ•¸é‹ç®—æŒ‡ä»¤ï¼Œå¤§è‡´ä¸Šå¯ä»¥åˆ†æˆå…©ç¨®ï¼š

1. packedï¼šå››å€‹æµ®é»æ•¸ DATA0 ~ DATA3 é€²è¡Œè¨ˆç®—
2. scalarï¼šåªå°ä¸€å€‹æµ®é»æ•¸ DATA0 é€²è¡Œè¨ˆç®—

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F3cd36ac5-affc-4af0-9987-df0ef8868be9%2FUntitled.png?table=block&id=a611fd1c-fc28-43f1-8389-045e8e36f11c&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)

å°‡å‡½å¼ä¸­æ–¼è¿´åœˆå…§çš„é‹ç®—éƒ¨åˆ†åˆ©ç”¨ SSE æŒ‡ä»¤æ”¹å¯«ï¼Œå¯ä»¥ä¸€æ¬¡è™•ç†å››å€‹è®Šæ•¸ï¼Œç›¸ç•¶æ–¼æ­¤è¿´åœˆåŸ·è¡Œæ¬¡æ•¸å¯ä»¥æ¸›ç‚ºåŸæœ¬çš„ 1/4ã€‚

![image](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F878f6763-3b3c-4ce3-9f7e-369a58dfd344%2FUntitled.png?table=block&id=43d581b8-04fc-4dae-83b1-60921040c5fc&spaceId=8900ffca-07f1-4e23-9c4e-9d97b247dcd6&width=1390&userId=eebbf37a-c0f3-48f8-8e2a-eeaf65e50166&cache=v2)